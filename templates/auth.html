<!doctype html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Protec Rescue 38 - Connexion</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
  </head>
  <body>
    <div id="splash" class="splash">
      <div class="splash__glow"></div>
      <div class="splash__content">
        <p class="splash__eyebrow">Mise en ligne</p>
        <div class="splash__title" id="splash-title">Portail Rescue 38</div>
        <p class="splash__tagline">Synchronisation des unités avant entrée.</p>
      </div>
    </div>

      <div id="auth-shell" class="app-shell hidden">
        <div class="grid-bg" aria-hidden="true"></div>
        <div class="scanline" aria-hidden="true"></div>

        <header class="hero hero--compact">
          <div class="hero__content">
            <p class="hero__eyebrow">Portail</p>
            <h1>Connexion sécurisée</h1>
          </div>
        </header>

        <main class="shell">
          <section class="panel panel--frost">
            <div class="panel__header">
              <div>
                <p class="eyebrow">Identité</p>
                <h2>Connexion rapide</h2>
              </div>
            </div>
            <div class="auth-grid">
              <div class="card card--glass">
                <div class="tabs" role="tablist">
                  <button class="tab active" data-target="login">Connexion</button>
                  <button class="tab" data-target="register">Création</button>
                </div>
                <form id="login-form" class="form" data-panel="login">
                  <label>E-mail
                    <input name="email" type="email" autocomplete="email" required>
                  </label>
                  <label>Mot de passe
                    <input name="password" type="password" autocomplete="current-password" required>
                  </label>
                  <button class="btn primary" type="submit">Entrer dans le hub</button>
                </form>
                <form id="register-form" class="form hidden" data-panel="register">
                  <label>Pseudo
                    <input name="username" type="text" autocomplete="username" required>
                  </label>
                  <label>E-mail
                    <input name="email" type="email" autocomplete="email" required>
                  </label>
                  <label>Mot de passe
                    <input name="password" type="password" autocomplete="new-password" minlength="8" required>
                  </label>
                  <div class="avatar-picker" role="radiogroup" aria-label="Choix de l'avatar">
                    <p class="label">Avatar</p>
                    <div class="avatar-picker__grid">
                      <button type="button" class="avatar-chip active" data-avatar="alpha">
                        <span class="avatar avatar--alpha">{{ avatar_emojis.get('alpha') }}</span>
                        <div class="avatar-chip__info">
                          <p class="label">Satellite</p>
                          <p class="muted">Toujours connecté au flux central.</p>
                        </div>
                      </button>
                      <button type="button" class="avatar-chip" data-avatar="bravo">
                        <span class="avatar avatar--bravo">{{ avatar_emojis.get('bravo') }}</span>
                        <div class="avatar-chip__info">
                          <p class="label">Équipe secours</p>
                          <p class="muted">Réponse rapide et coordonnée.</p>
                        </div>
                      </button>
                      <button type="button" class="avatar-chip" data-avatar="charlie">
                        <span class="avatar avatar--charlie">{{ avatar_emojis.get('charlie') }}</span>
                        <div class="avatar-chip__info">
                          <p class="label">Bouée</p>
                          <p class="muted">Protection et assistance immédiate.</p>
                        </div>
                      </button>
                      <button type="button" class="avatar-chip" data-avatar="delta">
                        <span class="avatar avatar--delta">{{ avatar_emojis.get('delta') }}</span>
                        <div class="avatar-chip__info">
                          <p class="label">Boussole</p>
                          <p class="muted">Orientation précise vers l'objectif.</p>
                        </div>
                      </button>
                    </div>
                    <input type="hidden" name="avatar" id="avatar-choice" value="alpha">
                  </div>
                  <button class="btn secondary" type="submit">Activer un profil</button>
                </form>
                <div class="alert hidden" id="auth-alert"></div>
              </div>
            </div>
          </section>
        </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
    <script src="{{ url_for('static', filename='js/auth.js') }}"></script>
  </body>
</html>
